<div class="voting-container">
  <!-- Header con informaci√≥n del circuito -->
  <div class="voting-header">
    <div class="escudo-nacional">
      <div class="escudo-placeholder">üá∫üáæ</div>
    </div>
    <h1>ELECCIONES MUNICIPALES 2025</h1>
    <div class="circuito-info">
      <h2>Circuito {{ circuito.numero }}</h2>
      <p>{{ circuito.establecimiento }}</p>
      <p>{{ circuito.direccion }} - {{ circuito.departamento }}</p>
    </div>
  </div>

  <!-- Instrucciones -->
  <div class="instrucciones" *ngIf="!votoConfirmado">
    <h3>üìã Instrucciones para votar:</h3>
    <ul>
      <li>Seleccione una papeleta haciendo clic en el checkbox correspondiente</li>
      <li>Revise su selecci√≥n cuidadosamente</li>
      <li>Presione el bot√≥n "Confirmar Voto" para proceder</li>
      <li>Su voto es secreto y ser√° registrado de forma an√≥nima</li>
    </ul>
  </div>

  <!-- Papeletas de votaci√≥n -->
  <div class="papeletas-container" *ngIf="!votoConfirmado">
    <h3>Seleccione su opci√≥n de voto:</h3>
    
    <div class="papeletas-grid">
      <div 
        *ngFor="let papeleta of papeletas" 
        class="papeleta"
        [class.selected]="papeletaSeleccionada === papeleta.id"
        [style.border-left-color]="papeleta.color"
        (click)="seleccionarPapeleta(papeleta.id)">
        
        <div class="papeleta-header">
          <input 
            type="radio" 
            [value]="papeleta.id"
            [(ngModel)]="papeletaSeleccionada"
            [id]="'papeleta-' + papeleta.id"
            name="papeleta">
          <label [for]="'papeleta-' + papeleta.id" class="checkbox-label"></label>
          
          <div class="numero-lista" *ngIf="papeleta.tipo === 'lista'">
            {{ papeleta.numeroLista }}
          </div>
        </div>

        <div class="partido-nombre">
          <h4>{{ papeleta.partido }}</h4>
        </div>

        <div class="candidatos-lista" *ngIf="papeleta.candidatos.length > 0">
          <div 
            *ngFor="let candidato of papeleta.candidatos" 
            class="candidato-item">
            <span class="candidato-cargo">{{ candidato.cargo }}:</span>
            <span class="candidato-nombre">{{ candidato.nombre }}</span>
          </div>
        </div>

        <div class="voto-especial" *ngIf="papeleta.tipo === 'blanco'">
          <p>‚úì Voto en blanco</p>
          <p class="descripcion">No selecciona ning√∫n candidato</p>
        </div>
      </div>
    </div>

    <!-- Bot√≥n de confirmaci√≥n -->
    <div class="accion-buttons">
      <button 
        class="btn-confirmar"
        [disabled]="papeletaSeleccionada === null"
        (click)="confirmarVoto()">
        Confirmar Voto
      </button>
    </div>
  </div>

  <!-- Modal de confirmaci√≥n -->
  <div class="modal-overlay" *ngIf="mostrarConfirmacion">
    <div class="modal-confirmacion">
      <h3>üó≥Ô∏è Confirmar su voto</h3>
      
      <div class="voto-resumen" *ngIf="getPapeletaSeleccionada() as papeleta">
        <p><strong>Ha seleccionado:</strong></p>
        <div class="papeleta-confirmacion" [style.border-left-color]="papeleta.color">
          <h4>{{ papeleta.partido }}</h4>
          <div *ngIf="papeleta.numeroLista !== 999">
            <p><strong>Lista {{ papeleta.numeroLista }}</strong></p>
            <div class="candidatos-resumen">
              <div *ngFor="let candidato of papeleta.candidatos" class="candidato-resumen">
                {{ candidato.cargo }}: {{ candidato.nombre }}
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="advertencia">
        <p>‚ö†Ô∏è <strong>ATENCI√ìN:</strong> Una vez confirmado, no podr√° cambiar su voto.</p>
        <p>¬øEst√° seguro de que desea proceder?</p>
      </div>

      <div class="modal-buttons">
        <button class="btn-cancelar" (click)="cancelarVoto()">
          Cancelar
        </button>
        <button class="btn-efectuar" (click)="efectuarVoto()">
          Efectuar Voto
        </button>
      </div>
    </div>
  </div>

  <!-- Confirmaci√≥n de voto realizado -->
  <div class="voto-realizado" *ngIf="votoConfirmado">
    <div class="success-icon">‚úÖ</div>
    <h2>¬°Voto registrado correctamente!</h2>
    <p>Su voto ha sido registrado de forma an√≥nima y segura.</p>
    <p>Gracias por participar en el proceso democr√°tico.</p>
    
    <div class="info-adicional">
      <p><strong>Circuito:</strong> {{ circuito.numero }}</p>
      <p><strong>Fecha y hora:</strong> {{ fechaActual | date:'dd/MM/yyyy HH:mm' }}</p>
    </div>

    <!-- Bot√≥n para reiniciar (solo para testing) -->
    <button class="btn-reiniciar" (click)="reiniciarVoto()">
      Simular Nuevo Voto (Solo para pruebas)
    </button>
  </div>
</div><div class="voting-container">
  <!-- Header con informaci√≥n del circuito -->
  <div class="voting-header">
    <div class="escudo-nacional">
      <div class="escudo-placeholder">üá∫üáæ</div>
    </div>
    <h1>ELECCIONES MUNICIPALES 2025</h1>
    <div class="circuito-info">
      <h2>Circuito {{ circuito.numero }}</h2>
      <p>{{ circuito.establecimiento }}</p>
      <p>{{ circuito.direccion }} - {{ circuito.departamento }}</p>
    </div>
  </div>

  <!-- Instrucciones -->
  <div class="instrucciones" *ngIf="!votoConfirmado">
    <h3>üìã Instrucciones para votar:</h3>
    <ul>
      <li>Seleccione una papeleta haciendo clic en el checkbox correspondiente</li>
      <li>Revise su selecci√≥n cuidadosamente</li>
      <li>Presione el bot√≥n "Confirmar Voto" para proceder</li>
      <li>Su voto es secreto y ser√° registrado de forma an√≥nima</li>
    </ul>
  </div>

  <!-- Papeletas de votaci√≥n -->
  <div class="papeletas-container" *ngIf="!votoConfirmado">
    <h3>Seleccione su opci√≥n de voto:</h3>
    
    <div class="papeletas-grid">
      <div 
        *ngFor="let papeleta of papeletas" 
        class="papeleta"
        [class.selected]="papeletaSeleccionada === papeleta.id"
        [style.border-left-color]="papeleta.color"
        (click)="seleccionarPapeleta(papeleta.id)">
        
        <div class="papeleta-header">
          <input 
            type="radio" 
            [value]="papeleta.id"
            [(ngModel)]="papeletaSeleccionada"
            [id]="'papeleta-' + papeleta.id"
            name="papeleta">
          <label [for]="'papeleta-' + papeleta.id" class="checkbox-label"></label>
          
          <div class="numero-lista" *ngIf="papeleta.tipo === 'lista'">
            {{ papeleta.numeroLista }}
          </div>
        </div>

        <div class="partido-nombre">
          <h4>{{ papeleta.partido }}</h4>
        </div>

        <div class="candidatos-lista" *ngIf="papeleta.candidatos.length > 0">
          <div 
            *ngFor="let candidato of papeleta.candidatos" 
            class="candidato-item">
            <span class="candidato-cargo">{{ candidato.cargo }}:</span>
            <span class="candidato-nombre">{{ candidato.nombre }}</span>
          </div>
        </div>

        <div class="voto-especial" *ngIf="papeleta.tipo === 'blanco'">
          <p>‚úì Voto en blanco</p>
          <p class="descripcion">No selecciona ning√∫n candidato</p>
        </div>
      </div>
    </div>

    <!-- Bot√≥n de confirmaci√≥n -->
    <div class="accion-buttons">
      <button 
        class="btn-confirmar"
        [disabled]="papeletaSeleccionada === null"
        (click)="confirmarVoto()">
        Confirmar Voto
      </button>
    </div>
  </div>

  <!-- Modal de confirmaci√≥n -->
  <div class="modal-overlay" *ngIf="mostrarConfirmacion">
    <div class="modal-confirmacion">
      <h3>üó≥Ô∏è Confirmar su voto</h3>
      
      <div class="voto-resumen" *ngIf="getPapeletaSeleccionada() as papeleta">
        <p><strong>Ha seleccionado:</strong></p>
        <div class="papeleta-confirmacion" [style.border-left-color]="papeleta.color">
          <h4>{{ papeleta.partido }}</h4>
          <div *ngIf="papeleta.numeroLista !== 999">
            <p><strong>Lista {{ papeleta.numeroLista }}</strong></p>
            <div class="candidatos-resumen">
              <div *ngFor="let candidato of papeleta.candidatos" class="candidato-resumen">
                {{ candidato.cargo }}: {{ candidato.nombre }}
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="advertencia">
        <p>‚ö†Ô∏è <strong>ATENCI√ìN:</strong> Una vez confirmado, no podr√° cambiar su voto.</p>
        <p>¬øEst√° seguro de que desea proceder?</p>
      </div>

      <div class="modal-buttons">
        <button class="btn-cancelar" (click)="cancelarVoto()">
          Cancelar
        </button>
        <button class="btn-efectuar" (click)="efectuarVoto()">
          Efectuar Voto
        </button>
      </div>
    </div>
  </div>

  <!-- Confirmaci√≥n de voto realizado -->
  <div class="voto-realizado" *ngIf="votoConfirmado">
    <div class="success-icon">‚úÖ</div>
    <h2>¬°Voto registrado correctamente!</h2>
    <p>Su voto ha sido registrado de forma an√≥nima y segura.</p>
    <p>Gracias por participar en el proceso democr√°tico.</p>
    
    <div class="info-adicional">
      <p><strong>Circuito:</strong> {{ circuito.numero }}</p>
      <p><strong>Fecha y hora:</strong> {{ fechaActual | date:'dd/MM/yyyy HH:mm' }}</p>
    </div>

    <!-- Bot√≥n para reiniciar (solo para testing) -->
    <button class="btn-reiniciar" (click)="reiniciarVoto()">
      Simular Nuevo Voto (Solo para pruebas)
    </button>
  </div>
</div>